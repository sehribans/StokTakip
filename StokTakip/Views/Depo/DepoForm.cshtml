@using StokTakip.Models.Vm
@model DepoVm 
@{
    var toplam = ViewBag.ToplamTurtar;
}
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <div class="row border-bottom">
                    <div class="col-lg-12">
                        <form method="post" asp-action="DepoPost">
                            <div class="row">

                                <div class="col-lg-4 col-sm-12 col-md-12 mt-2">
                                    <div class="input-group mb-3">
                                        <label for="SevkiyatAd" style="min-width:unset!important;" class="input-group-text">Sevkiyat Adı</label>
                                        <input type="text" class="form-control" data-val="true"   id="SevkiyatAd" maxlength="8192"  value="" asp-for="Depo.SevkiyatAd">
                                    </div>
                                </div>
                      
                              
                                <div class="col-lg-4 col-sm-12 col-md-12 mt-2">
                                    <div class="input-group mb-3">
                                        <label for="Aciklama" style="min-width:unset!important;" class="input-group-text">Açıklama</label>
                                        <input type="text" class="form-control" data-val="true" data-val-length="The field Aciklama must be a string with a maximum length of 8192." data-val-length-max="8192" id="Aciklama" maxlength="8192" asp-for="Depo.Aciklama" value="">
                                    </div>
                                </div>
                                <div class="col-lg-3 col-sm-12 col-md-12">
                                    <button class="btn btn-success">Satışı Kaydet</button>

                                </div>

                                <div class="col-lg-12" style="text-align:end;">
                                    <h4 class="mt-3">Toplam Tutar : <span style="color:green;">@toplam ₺</span></h4>
                                </div>
                            </div>
                            <input name="__RequestVerificationToken" type="hidden" value="CfDJ8Cbel7F_8F9EmmwgGAcIw2485fR7DF9DBPQ1ovqBXWyNGBPyp3JIns_Go9Ch7UvLNGCYCK17ozeZYqgIX1hedibGiVcpzlkUjKKP_cqElvNz0SngwCxf7yahnQl80OImpN8t5HGKxf_WmkEpWSOtOnSwVU3XvmYW9bSvJMsik-6j_PX4Y3UlwWNxpeFtYwcLzw">
                        </form>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <div class="row">

                    <input id="tempId" type="hidden" value="0">
                    <div class="col-12 col-md-6 col-xxl-5">
                        <form method="post" enctype="multipart/form-data" action="/Depo/AddOrUpdate">
                            <input type="hidden" data-val="true" data-val-required="The Id field is required." id="Id" name="Id" value="0">
                            
                            <input type="hidden" data-val="true" data-val-required="The OlusturmaTarihi field is required." id="OlusturmaTarihi" name="OlusturmaTarihi" value="12.07.2024 11:47:22">
                            <input type="hidden" id="GuncellemeTarihi" name="GuncellemeTarihi" value="">
                            <div class="row mb-3">
                                <div class="col-12">
                                    <div class="input-group mb-3">
                                        <label for="urunId" class="input-group-text">Ürün</label>
                                        <select id="urunId" style="width:76%;" data-val="true" data-val-required="The urunId field is required." asp-for="Sevkiyat.UrunId" data-select2-id="urunId" tabindex="-1" class="select2-hidden-accessible" aria-hidden="true">
                                            @foreach (var item in Model.UrunListe ?? new())
                                            {
                                                <option value="@item.Id" data-adet="@item.Stok" accesskey="">@item.Urunadi</option>
                                            }

                                        </select><span class="select2 select2-container select2-container--bootstrap4" dir="ltr" data-select2-id="5" style="width: 76%;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-urunId-container"><span class="select2-selection__rendered" id="select2-urunId-container" role="textbox" aria-readonly="true" </span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
                                        <span class="field-validation-valid" data-valmsg-for="urunId" data-valmsg-replace="true"></span>
                                    </div>
                                </div>
                          
                                <div class="col-12">
                                    <div class="input-group mb-3">
                                        <label for="Adet" class="input-group-text">Adet</label>
                                        <input id="Adet" class="form-control" type="number" data-val="true" data-val-required="The Adet field is required."  value="0" min="1" max="189" asp-for="Sevkiyat.Adet">
                                        <span class="field-validation-valid" data-valmsg-for="Adet" data-valmsg-replace="true"></span>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="input-group mb-3">
                                        <label for="satisFiyat" class="input-group-text">Satış Fiyat</label>
                                        <input class="form-control decimal" type="text" data-val="true" data-val-number="The field CikisFiyat must be a number." data-val-required="The CikisFiyat field is required." id="CikisFiyat" asp-for="Sevkiyat.AlisFiyat" value="0,00" style="text-align: right;" inputmode="decimal">
                                        <span class="field-validation-valid" data-valmsg-for="CikisFiyat" data-valmsg-replace="true"></span>
                                    </div>
                                </div>

                                <div class="col-12 col-lg-6">
                                    <button class="btn btn-primary active mb-3" type="submit">Ürünü Ekle</button>
                                </div>
                            </div>
                            <input name="__RequestVerificationToken" type="hidden" value="CfDJ8Cbel7F_8F9EmmwgGAcIw2485fR7DF9DBPQ1ovqBXWyNGBPyp3JIns_Go9Ch7UvLNGCYCK17ozeZYqgIX1hedibGiVcpzlkUjKKP_cqElvNz0SngwCxf7yahnQl80OImpN8t5HGKxf_WmkEpWSOtOnSwVU3XvmYW9bSvJMsik-6j_PX4Y3UlwWNxpeFtYwcLzw">
                        </form>
                    </div>

                    <div class="col-12 col-md-6 col-xxl-7">
                        <div class="col-12">
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>Ürün Adı</th>
                                            <th>Adet</th>
                                            <th>Alış Fiyat</th>
                                            <th>Toplam Fiyat</th>
                                            <th>#</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item in Model.SevkiyatList ?? new())
                                        {
                                            <tr>
                                                <td>@item.UrunId</td>
                                                <td>@item.Adet</td>
                                                <td>@item.AlisFiyat</td>
                                                <td>@(item.Adet*item.AlisFiyat)<td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

